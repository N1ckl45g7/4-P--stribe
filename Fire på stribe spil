def brik_placering(board_state, col): #Tjekker hvilken position brikken skal placeres i
    col_list = [row[col] for row in board_state] #Laver den valgte kollone til en liste
    count = 0 #Tæller
    for i in col_list: #Loop'er igennem hver 'slot' i kollonen
        if i == 0: #Hvis pladsen er tom, så retuner værdien
            return count
        count = count + 1

def check_for_win (board_state, player): #Tjekker om den aktuelle spiller har vundet
    brikker_på_stribe = 0
    for row in range(len(board_state)): #Tjekker hver række, om der er 4 på stribe
        for col in range(len(board_state[0])):
            if board_state[row][col] == player:
                brikker_på_stribe = brikker_på_stribe + 1
            elif brikker_på_stribe == 4:
                return True
            else:
                brikker_på_stribe = 0

    for col in range(len(board_state[0])): #Tjekker hver kollone, om der er 4 på stribe
        for row in range(len(board_state)):
            if board_state[row][col] == player:
                brikker_på_stribe = brikker_på_stribe + 1
            elif brikker_på_stribe == 4:
                return True
            else:
                brikker_på_stribe = 0



def game_loop():
    board_state = [[0,0,0,0,0,0,0],
                   [0,0,0,0,0,0,0],
                   [0,0,0,0,0,0,0],
                   [0,0,0,0,0,0,0],
                   [0,0,0,0,0,0,0],
                   [0,0,0,0,0,0,0]]
    player = 1
    for row in reversed(range(len(board_state))):
        print(board_state[row])
    while True:
        user_inp = int(input("Hvilken kolonne lægger du en brik i? ")) - 1
        if not user_inp in range(len(board_state)):
            print("Du kan ikke placere der prøv venligst igen.")
            continue

        if not brik_placering(board_state, user_inp) in range(len(board_state[0])):
            print("Kollone er fyldt, prøv igen!")
            continue
        
        board_state[brik_placering(board_state, user_inp)][user_inp] = player


        for row in reversed(range(len(board_state))):
            print(board_state[row])

        if check_for_win(board_state, player) == True:
            print(f"Spiller {player} har vundet!")
            break

        if player == 1:
            player = 2
        else:
            player = 1

game_loop()
